# PropXchain Backend API Documentation

## Base URL

All endpoints are relative to: `https://your-deployed-backend-url.com`

## Authentication

Admin endpoints are protected with HTTP Basic Authentication:

```
Authorization: Basic <base64-encoded-username-password>
```

## Endpoints

### Submit Contact Form

**URL**: `/api/contact`  
**Method**: `POST`  
**Auth Required**: No

**Request Body**:

```json
{
  "name": "John Doe",
  "email": "john@example.com",
  "company": "Example Company", // Optional
  "phone": "+44 7511 123456",   // Optional
  "interest": "Developer Demo",  // Optional
  "message": "I would like more information about PropXchain."
}
```

**Success Response**:

```json
{
  "success": true,
  "message": "Your message has been sent successfully!"
}
```

**Error Response**:

```json
{
  "success": false,
  "message": "Please provide name, email, and message"
}
```

### Health Check

**URL**: `/api/health`  
**Method**: `GET`  
**Auth Required**: No

**Success Response**:

```json
{
  "status": "ok",
  "mongodb": "connected"
}
```

### Get Submissions (Admin Only)

**URL**: `/api/submissions`  
**Method**: `GET`  
**Auth Required**: Yes (Admin)

**Query Parameters**:

- `page` (optional): Page number for pagination (default: 1)
- `limit` (optional): Number of submissions per page (default: 20)

**Success Response**:

```json
{
  "success": true,
  "data": [
    {
      "_id": "60f7a9b9e6b3f32a8c8b4567",
      "name": "John Doe",
      "email": "john@example.com",
      "company": "Example Company",
      "phone": "+44 7511 123456",
      "interest": "Developer Demo",
      "message": "I would like more information about PropXchain.",
      "submittedAt": "2025-03-15T10:30:00.000Z"
    },
    // Additional submissions...
  ],
  "pagination": {
    "total": 45,
    "page": 1,
    "limit": 20,
    "pages": 3
  }
}
```

**Error Response**:

```json
{
  "success": false,
  "message": "Authentication required"
}
```

## Error Codes

- `400 Bad Request`: Missing required fields or invalid data
- `401 Unauthorized`: Invalid or missing authentication credentials
- `500 Internal Server Error`: Server-side error

## Rate Limiting

To prevent abuse, consider implementing rate limiting on the `/api/contact` endpoint.

## CORS Configuration

The API allows cross-origin requests from your PropXchain domain. If you need to allow requests from additional domains, update the CORS configuration in server.js.
